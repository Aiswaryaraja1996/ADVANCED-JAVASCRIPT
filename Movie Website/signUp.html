<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up</title>
    <link rel="stylesheet" type="text/css" href="./movieNavbar.css" />
    <link rel="stylesheet" type="text/css" href="./signup.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato&display=swap"
      rel="stylesheet"
    />
  </head>
  <body style="background-color: black">
    <header>
      <nav>
        <ul class="flex-center">
          <a href="./Home.html">Home</a>
          <div id="login">
            <a href="./login.html">Login</a>
          </div>
          <div id="signup">
            <a href="./signUp.html" target="_blank">Signup</a>
          </div>
        </ul>
      </nav>
    </header>
    <form>
      <div class="form-container">
        <div class="inner-form-wrap">
          <div class="input-form">
            <label for="name">Full name</label>
            <input
              id="name"
              maxlength="50"
              required="true"
              placeholder="e.g. Mary Jackson"
            />
          </div>
          <div class="input-form">
            <label for="cntct">Contact No</label>
            <input
              id="cntct"
              maxlength="50"
              required="true"
              type="tel"
              pattern="[0-9]{10}"
              title="Enter valid phone number"
            />
          </div>
          <div class="input-form">
            <label for="mail">Email address</label>
            <input
              id="mail"
              maxlength="50"
              required="true"
              placeholder="your@email.com"
            />
          </div>
          <div class="input-form">
            <label for="Passwd">Password</label>
            <input
              id="psswd"
              name="passwd"
              maxlength="50"
              required="true"
              type="password"
            />
          </div>

          <div class="input-form">
            <input class="btn" id="submit" type="submit" value="Sign Up" />
          </div>
        </div>
      </div>
    </form>

    <script>
      function handleSubmit(e) {
        e.preventDefault();

        var user = {};
        var name = document.getElementById("name").value;
        var cntct = document.getElementById("cntct").value;
        var email = document.getElementById("mail").value;
        var psswd = document.getElementById("psswd").value;

        if (
          name.length !== 0 &&
          cntct.length !== 0 &&
          email.length !== 0 &&
          psswd.length !== 0
        ) {
          user.name = name;
          user.email = email;
          user.password = psswd;
          user.contact = cntct;

          var dataHistory = JSON.parse(localStorage.getItem("userData")) || [];
          dataHistory.push(user);

          localStorage.setItem("userData", JSON.stringify(dataHistory));
          alert("User created successfully.Try Login from Home Page");
          window.location.assign("./login.html");
        } else {
          alert("All Fields are mandatory!!");
        }
      }
      window.addEventListener("load", function () {
        var submit = document.getElementById("submit");
        submit.addEventListener("click", handleSubmit);
      });
    </script>
  </body>
</html>
